/// Media Queries
//===============================================


// Viewport Settings
//---------------------------------------------

$mobile-max: 		setting("query", "mobile-max");
$phablet-max: 		setting("query", "phablet-max");
$tablet-max: 		setting("query", "tablet-max");
$desktop-sml-max: 	setting("query", "desktop-sml-max");
$desktop-mid-max: 	setting("query", "desktop-mid-max");

$phablet-min: 		$mobile-max + 1;
$tablet-min: 		$phablet-max + 1;
$desktop-sml-min: 	$tablet-max + 1;
$desktop-mid-min: 	$desktop-sml-max + 1;
$desktop-lrg-min: 	$desktop-mid-max + 1;

@function createBreakpoint($fromThisSize: "", $uptoThisSize: ""){
	$query: "";
	
	@if $fromThisSize != "" or $uptoThisSize != "" {
		
		@if $fromThisSize != "" and $fromThisSize != 0  {
			$query: $query + "(min-width:#{$fromThisSize})";
		}
		
		@if  ($fromThisSize != "" and $fromThisSize != 0) and $uptoThisSize != "" {
			$query: $query + " and ";
		}
		
		@if $uptoThisSize != "" {
			$query: $query + "(max-width:#{$uptoThisSize})";
		}

		@return unquote($query);
	}
}

// Media Queries
//---------------------------------------------

// Map of set breakpoints
$breakpoints: (
	is-mobile: 			createBreakpoint(0, $mobile-max),
	is-phablet: 		createBreakpoint($phablet-min, $phablet-max),
	from-phablet: 		createBreakpoint($phablet-min),
	is-tablet: 			createBreakpoint($tablet-min, $tablet-max),
	from-tablet: 		createBreakpoint($tablet-min),
	is-desktop-sml: 	createBreakpoint($desktop-sml-min, $desktop-sml-max),
	is-desktop: 		createBreakpoint($desktop-sml-min),
	from-desktop: 		createBreakpoint($desktop-sml-min),
	from-desktop-sml: 	createBreakpoint($desktop-sml-min),
	is-desktop-mid: 	createBreakpoint($desktop-mid-min, $desktop-mid-max),
	from-desktop-mid: 	createBreakpoint($desktop-mid-min),
	is-desktop-lrg: 	createBreakpoint($desktop-lrg-min),
	from-desktop-lrg: 	createBreakpoint($desktop-lrg-min)
);

@mixin breakpoint($breakpoint: "", $additionalQueries: "") {
	@if $breakpoint != "" {
		
		@if map-has-key($breakpoints, $breakpoint) {
			$media: inspect(map-get($breakpoints, $breakpoint));
			
			@if $additionalQueries != "" {
				$media: $media + " and (" + $additionalQueries + ")";
			}
			
			@media #{$media} {
				@content;
			}
		}
	}
}

